(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["vue-awesome-countdown"]=e():t["vue-awesome-countdown"]=e()})("undefined"!==typeof self?self:this,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({fb15:function(t,e,n){"use strict";var r;(n.r(e),"undefined"!==typeof window)&&((r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^\/]+\.js(\?.*)?$/))&&(n.p=r[1]));var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.tag,t._g(t._b({tag:"components"},"components",t.attrs,!1),t.$listeners),[t._t("prev",null,null,this._self),"beforeStart"===t.state?t._t("before",null,null,this._self):t._e(),"preheat"===t.state?t._t("preheat",null,null,this._self):t._e(),"process"===t.state||"stoped"===t.state?t._t("process",null,null,this._self):t._e(),"finised"===t.state?t._t("finish",null,null,this._self):t._e(),t._t("default",null,null,this._self)],2)},a=[],s={name:"vue-awesome-countdown",props:{startTime:{type:[String,Number,Date],default:null,validator:function(t){return"Invalid Date"!==new Date(t).toString()}},endTime:{type:[String,Number,Date],default:null,validator:function(t){return"Invalid Date"!==new Date(t).toString()}},leftTime:{type:Number,default:0},autoStart:{type:Boolean,default:!0},speed:{type:Number,default:1e3,validator:function(t){return t>=0}},tag:{type:String,default:"span"}},data(){return{state:"beforeStart",attrs:{},actualStartTime:null,actualEndTime:null,timeObj:{},countdownTimer:null,runTimes:0,usedTime:0}},watch:{speed(t,e){const n=this;if(t<0&&(t=0),t!==e){clearTimeout(n.countdownTimer);const e=(new Date).getTime(),r=Math.floor((e-n.actualStartTime)/t),o=e%t;n.runTimes=r,n.$nextTick(()=>{n.countdownTimer=setTimeout(n.doCountdown,o)})}}},created(){const t=this,e=t.startTime&&new Date(t.startTime).getTime()||0,n=e&&e-(new Date).getTime()||0;t.autoStart&&(t.state="preheat",setTimeout(()=>{t.startCountdown(!0)},n))},methods:{startCountdown(t){const e=this;("beforeStart"===e.state||"stoped"===e.state||t)&&(t&&(e.runTimes=0,e.actualStartTime=null,e.actualEndTime=e.endTime||(new Date).getTime()+e.leftTime,e.$emit("onStart",e)),e.state="process",e.doCountdown())},stopCountdown(){const t=this;"process"===t.state&&(clearTimeout(t.countdownTimer),t.$emit("on-start",t),t.state="stoped")},switchCountdown(){const t=this;return"stoped"===t.state||"beforeStart"===t.state?t.startCountdown():"process"===t.state?t.stopCountdown():void 0},finishCountdown(){const t=this;t.state="finised",t.timeObj={},t.usedTime=(new Date).getTime()-t.actualStartTime,t.$emit("onFinish",t)},doCountdown(){const t=this;if("process"!==t.state)return;t.actualStartTime||(t.actualStartTime=(new Date).getTime());let e=new Date(t.actualEndTime).getTime()-(new Date).getTime();if(!(e>0))return void t.finishCountdown();{const n={},r=e/1e3,o={d:r/60/60/24,h:r/60/60%24,m:r/60%60,s:r%60,ms:e%1e3},a={d:parseInt(o.d,10).toString(),h:parseInt(o.h,10).toString().padStart(2,0),m:parseInt(o.m,10).toString().padStart(2,0),s:parseInt(o.s,10).toString().padStart(2,0),ms:o.ms.toString().padStart(3,0)},s={d:parseInt(Math.ceil(r/60/60/24),10),h:parseInt(Math.ceil(r/60/60),10),m:parseInt(Math.ceil(r/60),10),s:parseInt(Math.ceil(r),10)};n.endTime=t.actualEndTime,n.speed=t.speed,t.usedTime=(new Date).getTime()-t.actualStartTime,n.leftTime=e,t.timeObj=Object.assign({},n,a,{org:o,ceil:s}),t.timeObj.org=o,t.timeObj.ceil=s,t.$emit("onProcess",t)}let n=t.speed+(t.actualStartTime+t.runTimes++*t.speed-(new Date).getTime());n<0&&(n+=t.speed),t.countdownTimer=setTimeout(t.doCountdown,n)}}},i=s;function u(t,e,n,r,o,a,s,i){var u,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),s?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=u):o&&(u=i?function(){o.call(this,this.$root.$options.shadowRoot)}:o),u)if(l.functional){l._injectStyles=u;var d=l.render;l.render=function(t,e){return u.call(e),d(t,e)}}else{var c=l.beforeCreate;l.beforeCreate=c?[].concat(c,u):[u]}return{exports:t,options:l}}var l=u(i,o,a,!1,null,null,null);l.options.__file="vue-awesome-countdown.vue";var d=l.exports,c={install(t,e){e=e||"vac",t.component(e,d),t.component("countdown",d)}};e["default"]=c}})});
//# sourceMappingURL=vue-awesome-countdown.umd.min.js.map